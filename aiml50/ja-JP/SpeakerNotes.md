# <a name="speaker-notes"></a>講演者用メモ

## <a name="slides"></a>スライド

* スライド: # 1

* スライド: # 2
  * 現在、Machine Learning と DevOps は 2 つのホットな流行語です。 Machine Learning は、より多くの組織がアクセスできるようになりましたが、アクセスのしやすさが向上するに伴い、他のソフトウェアと同じ方法で ML プロジェクトを管理する必要が生じています。
  * MLOps、Machine Learning Operations、または DevOps for Machine Learning は DevOps と Machine Learning が融合したものです。本日はこれらについて取り上げます。

* スライド: # 3
  * 始める前に、このスライドのスクリーンショットをご覧ください。 このデッキと、このプレゼンテーションで使用されているすべてのリソースについては、次のリンクを参照してください。

* スライド: # 4
  * プログラミング時には、アルゴリズムを記述して問題を解決します
  * このアルゴリズムを使用してデータを実行 (または入力) し、回答を得ます
  * 重要な点は、その問題を解決する方法がわかている (または解決できる) ことです。
  * アルゴリズムがどのようなものかわからない場合はどうなるでしょうか。 例: 写真に鳥が写っているか、または申請者がローンの債務不履行を起こす可能性はどのくらいか。

* スライド: # 5
  * これらは機械学習が得意とする問題です
  * 機械学習では、こうした問題を 180 度転換し、正解と対応する入力の例を多数提供することで解決し、コンピューターにそのアルゴリズムを決定させます

* スライド: # 6
  * ここで行うのは、そのデータを説明する "モデル" をコンピューターに構築させることです

* スライド: # 7
  * この素晴らしい点は、どのようにモデルを使用するかがわかっていれば、作成したアルゴリズムではなく、そのモデルを使用できることです。

* スライド: # 8
  * モデルを使用すると、予測を得られます
  * 注: これらは予測であり、私たちが考えるような答えではありません
  * これらの予測の品質と精度は、モデルのトレーニングに使用した手法とアルゴリズムによって変わります
  * バイアスのかかったデータを使用してモデルをトレーニングしている場合、バイアスのかかったモデルが得られます

* スライド: # 9
  * [デモ #1 を参照してください](./demos/1-Show_Faulty_Prediction.md)

* スライド: # 10
  * 予測モデルの作成時に生じる作業について話しましょう。
  * 通常、データの検出、変換、準備... モデルの構築とそのデータを使用したトレーニング... そしてそのモデルの適合性の評価があります
  * これは、長期間にわたって何度も描画ボードに戻ることを意味する、非常に反復性の高い実験的なプロセスです。
  * 実際にモデルを展開する段階になると、多くの場合、ソフトウェアの場合と同様の方法になり、パッケージ化し、開発者または運用チームが何らかの方法で展開できるようにします

* スライド: # 11
  * 作成プロセスは、多くの場合、データ サイエンティストのマシン、または大量のトレーニングを行うための共有ハードウェアで行われます
  * また、展開には、USB ドライブを渡す、さらにはメールで送信するなどの方法がよく使われます。

* スライド: # 12
  * これを優れた devops プロセスと比較してみましょう。このプロセスでは、計画、開発とテスト、リリースからテスト、運用環境へと移行し、運用環境で何が起こるかを監視します。
  * ただ、DevOps はソフトウェア開発専用でしょうか。 まず、このアルゴリズムについて説明します。

* スライド: # 13
  * Microsoft の DevOps の定義を見てみましょう (お読みください)。
  * ここで最も重要な点は "価値" です。 DevOps はコードやバグの修正に関するものではなく、継続的に価値を提供することです。
  * 予測モデルがあり、そのモデルを改善できる場合、そこには絶対に価値があります。
  * そのため、この定義では ML は除外されません。
  * 役立つ製品を見てみましょう。

* スライド: # 14

* スライド: # 15
  * Azure Machine Learning service は、MLOps (または DevOps for ML) の取り組みを支援するための一連のサービスです。
  * ml.azure.com にアクセスして利用できます。
  * 管理に役立ついくつかの事項を掘り下げてみましょう。

* スライド: # 16
  * 個々のポイントを一覧にして説明します

* スライド: # 17
  * ここでは、Pipelines に焦点を当てます。 Pipelines は、モデルをトレーニングするためのワークフローであり、反復可能な方法で予測モデルを構築できるように、パイプラインを構築する必要があります。

* スライド: # 18
  * Azure Pipelines について聞いたことがあるかもしれませんが、これらは異なる製品であることに注意することが重要です。
  * 違いについてはこの後すぐに説明しますが、おおまかに説明すると、ML Pipelines はトレーニング ワークフローに適し、Azure Pipelines はオーケストレーションに適しています。 さまざまな焦点があります。

* スライド: # 19
  * 違いは何でしょうか。 なぜ両方を使用するのでしょうか。

* スライド: # 20
  * ML Pipelines は、ML 固有のワークフロー向けに設計されています。
  * 無人実行 - ML トレーニングは実行時間が非常に長い可能性があります。ML パイプラインはその処理に非常に優れています。
  * 再利用可能性 - ワークフロー内の個々のステップには、リソースが集中的に使用される可能性があります。また、毎回実行する必要はありません。 データ準備ステップを再度実行する必要がない場合は、前回の出力を再利用するだけで済みます。
  * 追跡 - 格納されているすべてのものは、一般的なソフトウェアを構築することではなく、ML に焦点を当てています

* スライド: # 21
  * これに対し、Azure Pipelines は CI/CD 向けに設計されています
  * ゲート - 品質とチェックとバランスを組み入れるために最適な場所です
  * 統合 - 他のアプリケーション、成果物、依存関係
  * トリガー - さまざまな理由でオーケストレーションをトリガーする方法

* スライド: # 22
  * パイプラインを構築するときは、これらのサービスのほとんどを実際に使用しています。

* スライド: # 23
  * データセットまたはデータストアを使用してデータをトレーニングし、実験を実行し、マネージド Compute を使用してトレーニングすると、モデルが完成します。
  * 後でこのモデルをデプロイしますが、話を元に戻します。

* スライド: # 24
  * [デモ #2 を参照してください](./demos/2-Build_a_Pipeline_With_Notebooks.md)

* スライド: # 25
  * ここでは、AML パイプラインを作成します
  * データ準備

* スライド: # 26
  * トレーニング ステップ

* スライド: # 27
  * モデルの登録

* スライド: # 28
  * データセット (またはデータ ソース) とコンピューティングも利用します

* スライド: # 29
  * ただし、ここではチームでの作業について話しましょう。

* スライド: # 30
  * ソフトウェア開発で使用する優れた DevOps のプラクティスは、ML プロジェクトに適用できるものもあります。次はそのことについて説明します。

* スライド: # 31
  * Jupyter Notebook のファイルには入力だけでなく、出力も含まれます。 これは混乱を招く可能性があるため、ファイルのマージは困難です。 ここでは、入力セル (実行されるコード) のみが必要です。
  * また、パイプラインのすべてを定義します (これが目的です)
  * インフラストラクチャ (コンピューティングなど) と依存関係 (Python の依存関係、ライブラリなど) も同様です。
  * また、概念実証を試すには、全体ではなく一部のデータのみで十分な可能性があります (ML プロジェクト内には多数の PB が存在する可能性があるため)

* スライド: # 32
  * 既知の共有データ ソースは、すべてのデータ サイエンティストが同じトレーニング データに対してトレーニングしていることを意味します。 また、トレーニング データはモデルの生成にも使用されています。

* スライド: # 33
  * CI について説明しましょう。 ここでの目的は次のとおりです。
  * ソース リポジトリでコードが変更されるタイミングを知る
  * トレーニング方法を変更した場合は、AML パイプラインを更新して実行する
  * また、コードの品質を確認する必要があります。コードなので、テストや lint などが必要です。
  * また、PR プロセスを追加して、マスターにマージする前にコードをコンパイルできるようにすることもできます (そして、コストのかかる可能性があるトレーニング ジョブを開始します)。
  * Azure DevOps の詳細については、こちらを参照してください。

* スライド: # 34
  * 重要な点は、これがすべてコードとソフトウェアであることです。 コードを書くことに慣れていない場合でも、その品質は重要です。

* スライド: # 35
  * [デモ #3 を参照してください](./demos/3-Show_The_Build_And_Release.md)

* スライド: # 36
  * ただし、まだ何もデプロイしていません。新しくトレーニングしたモデルをどのようにデプロイしますか。
  * AML service には、モデルを受け取り、ACI または AKS にデプロイする機能があります。ここではそれを利用しますが、この UI からは直接操作しません。

* スライド: # 37
  * AML パイプラインに別のステップを追加することもできますが、ここではそうしません。デプロイをもう少し細かく制御します。

* スライド: # 38
  * 継続的デリバリーは、ML に完全に適用できます。
  * 継続的デリバリーのために Azure Pipelines を使用します。
  * 新しいモデルが登録されたら、デプロイを開始します
  * Azure Pipelines を使用すると、新しいモデルを公開する前に、テスト サイトおよびステージング サイトにデプロイできます
  * 運用前環境でテストを実行できます
  * 重要な点は、他のソフトウェアで使用しているものと同じ手法を使用してロールアウトを制御していることです。

* スライド: # 39
  * 新しいモデルをそのまま運用環境に配置しないでください。他のソフトウェアでしないことは、ML でもしないでください。

* スライド: # 40
  * ここで作成したものは次のとおりです。
  * AML パイプラインであるトレーニング用パイプライン (このモデルのトレーニングに固有)
  * 新しいモデルを用意できたら、Azure DevOps でデプロイ パイプラインを開始します
  * ACI にデプロイし、いくつかのテストを実行し、すべて問題がなければ、AKS にデプロイできます

* スライド: # 41
  * ソフトウェアの他の部分と同様に、モデルを運用環境に配置し、常に機能すると仮定してそのまま放置することは望ましくありません。
  * 再トレーニング戦略が必要です。
  * 定期的に、または運用環境のデータが必要な結果が得られないほど変わった場合に行います。
  * Azure ML service には、これに対する解決策があります

* スライド: # 42
  * トレーニングの際には、既知のトレーニング データ セットから行うことができます
  * 最終的にモデルを運用環境にデプロイするとき、入力を別のデータセットに格納できます (推論データセット)

* スライド: # 43
  * AML service では、定期的にこれら 2 つのデータ セットを比較して、"データ ドリフト" を探します。 運用環境で見えているものが、モデルのトレーニングに使ったものとあまりにもずれている場合は、新しいモデルを生成する新しいトレーニング プロセスを開始できます。
  * これは自動的に行うことができます

* スライド: # 44
  * もちろん、コードを変更する場合は、現在のトレーニング パイプラインも変更する必要があります。

* スライド: # 45
  * 重要な点は、これは単なる一例ですが、モデルをコンテナーにデプロイしても、モデルをソフトウェアに埋め込む場合があることです
  * また、AML をまったく使用していないかもしれません。もしかすると、別の認知サービスを使用していて、Azure Pipelines と通信できる優れた API がそろっているかもしれません。
  * 最終的に、Azure Pipelines ではどのようなものでも調整できるため、使用しているツールが何であれ、それを使用してトレーニングを管理できます。

* スライド: # 46
  * 要旨:

* スライド: # 47

* スライド: # 48

* スライド: # 49

* スライド: # 50
  * その他のリソースとソース コードは、次のリンクで確認できます。

* スライド: # 51
  * Microsoft 認定 Azure Data Scientist Associate または Microsoft 認定 Azure AI Engineer Associate になるための認定資格を確認することもできます。

* スライド: # 52
  * 初回に限り、Microsoft はすべてのイベント参加者に無料で認定試験を受ける機会を提供しています。 この機会を任意の Fundamentals またはロール ベースの認定資格にご利用いただけます。
  * このオファーにより 1 回無料で試験を受けることができ、イベント後 6 か月間有効です。
  * この特典は、イベント エキスポ ホールのオンサイト テストで利用するか、イベントへのサインアップに使用したものと同じメール アドレスを使用してイベント後に使用できます。 (政府 関係者は資格がありません)
  * Microsoft からのキャンペーンに関するメールを受け取ることを選択した方には、イベント後に、詳細が記載されたメールが送信されます。

* スライド: # 53
